<html>
<head>
	<!-- <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js"></script> -->
	<script type="text/javascript" src="../scripts/lucid.js"></script>
	<script type="text/javascript" src="square.js"></script>
	<script type="text/javascript" src="arimaaSpecification.js"></script>
	<script type="text/javascript" src="arimaa.js"></script>
	<script type="text/javascript" src="boardState.js"></script>
	<script type="text/javascript" src="render.js"></script>
	<script type="text/javascript" src="imageLoader.js"></script>
	<script type="text/javascript" src="interactions.js"></script>
</head>
<body>
	<canvas id="sandbox" width="410" height="410"></canvas>
</body>
</html>
<script type="text/javascript">
"use strict";

	var canvas = document.getElementById("sandbox"),
			spriteFilePath = "arimaa_50x50.jpg",
			canvasRenderer = null;
	
	function synchronize(image){
		var arimaaBoardState = new arimaa.boardState(arimaaBoardSpecification);
		canvasRenderer = new arimaa.canvasRenderer(canvas, createSpriteProvider(image), arimaaBoardSpecification, arimaaGameStyle);
		canvasRenderer.render();
		arimaa.interactions.initialize(canvas, arimaaGameStyle);
	}

	arimaa.on('boardClick', function(square){
		console.log("clicked on column " + square.column + " and row " + square.row);
		canvasRenderer.highlightSquare(square);
	});

	arimaa.imageLoader.load(spriteFilePath, synchronize);
</script>